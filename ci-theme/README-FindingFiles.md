# Finding The Template File To Brand 

## Problem statement

Two methods are available to brand your Verify pages: themes and templates. With themes, each application can have a different look and feel for the pages generated by Verify. Templates are an earlier method of applying branding. A template is in place for the entire tenant - you cannot configure an application to use a specific template.

A template or a theme contains hundreds of files. When you're developing a branding based on a theme and/or the template, it's like a "find Wally" (or "find Waldo" in North-America) to find out what exact file is being rendered. It's so hard because many template files have similar content and/or use macro's and labels that are rendered at the server's side.

Wouldn't it be nice to have a indication in the rendered HTML page that tells you what exact file you're looking at?

## Solution

To solve this problem an HTLM comment line can be added that tells you the file path of the HTML content

I've used this format:

**`<!-- Template file path: <file path> -->`** where \<file path> is something like *templates/authsvc/fido2_authenticate/default/default/page.html*

Such comment can be added to both the .html files and the .xml files of a theme or template. 

.html files can be simply modified by putting such comment line as the first line.

.xml files are a bit harder since these contain HTML code to be displayed in notifications like in emails. Hence for .xml files I needed to look in the file for the right spot to add the comment in the HTML part.

Two scripts are available, one for .html files, one for .xml files.
These are: **html-addpathtag.sh** and **xml-addpathtag.sh** and these reside in the ci-theme directory.

A find command can be used to walk through your templates directory. The templates directory is assumed to be the result of an unzipped theme or template.
Assuming you have such templates folder and both scripts in your current directory, you must execute both find commands below:


**`find templates -name "*.xml" -exec ./xml-addpathtag.sh {} \; -print`**

**`find templates -name "*.html" -exec ./html-addpathtag.sh {} \; -print`**

Next is to zip up the templates folder, upload it to your Verify tenant, and if needed configure your application to use the theme.

Good luck in finding the right template file to modify!


## Remarks

* The scripts were tested on my MacBook. I understood that the 'sed' command that is used in xml-addpathtag.sh is quite sensitive to the environment where it is used. You may run into problems and have to troubleshoot the script for your environment.
* If you added the HTML comment lines to your theme and the template, but still cannot find the HTML comment line, then it is likely that the page cannot be branded.
* To zip on Mac you better: delete your .zip, and then zip up with `zip -r -X`. The -X makes a zip without those invisible Mac resource files such as “_MACOSX” or “._Filename” and .ds store file. Example:

`rm mytheme.zip; zip -r -X mytheme.zip templates
` 

* The macro's @PAGE_HEADER@ and @PAGE_FOOTER@ insert HTML that can be found in theme files. Hence you'll also see a comment line with the path to that .html file popping up in pages where these macro's are used.


	

	